import{_ as P,d as h,u,l as m,m as d,n as l,q as f,c as S,g as p,j as i,o as b}from"./index.60eeee1d.js";import{S as g,P as N}from"./Posts.290cd5cc.js";import"./time.747ead48.js";const _=h({name:"Home",components:{Searchbar:g,Posts:N},setup(o){const t=u();m(async()=>{await t.dispatch("post/fetchPublicPosts")});const e=d(()=>t.getters["post/publicPosts"]),r=async s=>{await t.dispatch("post/fetchPublicPosts",{timeSort:s,page:1})},c=async s=>{await t.dispatch("post/fetchPublicPosts",{keyword:s,page:1})},n=async()=>{await t.dispatch("post/fetchPublicNextPosts",{page:e.value.page+1})};return l((s,a)=>{t.dispatch("post/fetchPublicPosts")}),f((s,a)=>{t.dispatch("post/initPublicData")}),{storePost:e,sort:r,search:c,fetchNextPosts:n}}});function v(o,t,e,r,c,n){const s=i("Searchbar"),a=i("Posts");return b(),S("div",null,[p(s,{sort:o.storePost.timeSort,onSort:o.sort,onSearch:o.search},null,8,["sort","onSort","onSearch"]),p(a,{posts:o.storePost.posts,hasNextPage:o.storePost.hasNextPage,onFetchNextPosts:o.fetchNextPosts},null,8,["posts","hasNextPage","onFetchNextPosts"])])}var B=P(_,[["render",v]]);export{B as default};
